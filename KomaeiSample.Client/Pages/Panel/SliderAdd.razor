@page "/SliderAdd"

<MudDialog DefaultFocus="DefaultFocus.FirstChild">
    <DialogContent>
        <MudForm @ref="form" Model="vm" Class="col-md-8 mx-auto">
            <MudGrid Justify="Justify.Center">
                <MudItem>
                    <MudFileUpload T="IBrowserFile" @bind-Files="vm.File" For="@(() => vm.File)" SuppressOnChangeWhenInvalid Accept=".jpg,.jpeg" OnFilesChanged="OnFilesChanged">
                        <ActivatorContent>
                            <MudButton Variant="Variant.Filled" Color="Color.Default" StartIcon="@Icons.Material.Filled.CloudUpload" FullWidth Class="mt-3">
                                انتخاب تصویر (حداکثر 300 KB با فرمت jpg)
                            </MudButton>
                        </ActivatorContent>
                    </MudFileUpload>
                    @if (previewImageUrl.IsNullOrEmpty() == false)
                    {
                        <div class="mud-grid justify-center">
                            <MudImage Src="@previewImageUrl" Fluid Class="mt-2 rounded" />
                        </div>
                    }
                    <MudGrid Justify="Justify.Center" Class="mt-1">
                        <MudButton OnClick="Submit" Variant="Variant.Filled" Class="w-50 mt-5 mb-3"
                                   Color="Color.Success" FullWidth="true" Size="Size.Large" Disabled="vm.File==null">
                            ذخیره
                        </MudButton>
                    </MudGrid>
                </MudItem>
            </MudGrid>
        </MudForm>
    </DialogContent>
</MudDialog>