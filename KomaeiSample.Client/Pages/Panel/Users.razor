@page "/Users"
@layout PanelLayout
<PageTitle>کاربران</PageTitle>

<MudDataGrid Items="UserDtos" SortMode="SortMode.None" Bordered Hover Dense Striped Elevation="4">
    <Columns>
        <PropertyColumn Property="x => x.Id" Hidden />
        <PropertyColumn Property="x => x.FullName" Title="نام مشتری" CellClassFunc="@((x) => x.IsAdmin ? "bg-pr text-white" : "")" />
        <PropertyColumn Property="x => x.Mobile" Title="موبایل" />
        <TemplateColumn Title="تعداد سفارشات">
            <CellTemplate>
                <MudButton Variant="Variant.Outlined" Color="Color.Tertiary" Size="Size.Small"
                           OnClick="@(() => OpenMyOrdersDialog(context.Item))">
                    @context.Item.OrdersCount
                </MudButton>
            </CellTemplate>
        </TemplateColumn>
        <TemplateColumn Title="تصویر لوگو دارد؟">
            <CellTemplate Context="x">
                @(x.Item.LogoFileName.IsNullOrEmpty() ? "خیر" : "بله")
            </CellTemplate>
        </TemplateColumn>
        @* <TemplateColumn Title="تصویر لوگو دارد؟">
                <CellTemplate Context="x">
                    @(x.Item.LogoFileName.IsNullOrEmpty() ? "خیر" : "بله")
                </CellTemplate>
            </TemplateColumn> *@
        <PropertyColumn Property="x => x.AddDate.ToShamsiDate()" Title="تاریخ ثبت نام" />
        @* <PropertyColumn Property="x => x.UpdateDate.ToShamsiDateTime()" Title="تاریخ آخرین تغییر" /> *@
    </Columns>
</MudDataGrid>