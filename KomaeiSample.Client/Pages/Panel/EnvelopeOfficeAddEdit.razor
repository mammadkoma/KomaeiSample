@page "/EnvelopeOfficeAddEdit"

<MudDialog DefaultFocus="DefaultFocus.FirstChild">
    <DialogContent>
        <EditForm Model="vm" OnValidSubmit="OnValidSubmit">
            <DataAnnotationsValidator />

            <MudGrid>
                @if (IsAdd == true)
                {
                    <MudItem xs=12 sm=6>
                        <MudSelect T="int?" Label="مدل *" @bind-Value="vm.ModelId" For="@(() => vm.ModelId)" Variant="Variant.Outlined">
                            @foreach (var item in models!)
                            {
                                <MudSelectItem T="int?" Value="@((int?)item.Id)">@item.Title</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs=12 sm=6>
                        <MudSelect T="int?" Label="کاغذ *" @bind-Value="vm.PaperId" For="@(() => vm.PaperId)" Variant="Variant.Outlined">
                            @foreach (var item in papers!)
                            {
                                <MudSelectItem Value="@((int?)item.Id)">@item.Title</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs=12 sm=6>
                        <MudSelect T="int?" Label="گرماژ *" @bind-Value="vm.GrammageId" For="@(() => vm.GrammageId)" Variant="Variant.Outlined">
                            @foreach (var item in grammages!)
                            {
                                <MudSelectItem Value="@((int?)item.Id)">@item.Title</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs=12 sm=6>
                        <MudSelect T="int?" Label="تعداد *" @bind-Value="vm.CountId" For="@(() => vm.CountId)" Variant="Variant.Outlined">
                            @foreach (var item in counts!)
                            {
                                <MudSelectItem Value="@((int?)item.Id)">@item.Title</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs=12 sm=6>
                        <MudSelect T="byte?" Label="ترام داخلی 50% طوسی *" @bind-Value="vm.HasInternalTeram" For="@(() => vm.HasInternalTeram)" Variant="Variant.Outlined">
                            <MudSelectItem Value="(byte?)1">دارد</MudSelectItem>
                            <MudSelectItem Value="(byte?)2">ندارد</MudSelectItem>
                        </MudSelect>
                    </MudItem>
                    <MudItem xs=12 sm=6>
                        <MudSelect T="byte?" Label="چسب درب *" @bind-Value="vm.HasDoorGlue" For="@(() => vm.HasDoorGlue)" Variant="Variant.Outlined">
                            <MudSelectItem Value="(byte?)1">دارد</MudSelectItem>
                            <MudSelectItem Value="(byte?)2">ندارد</MudSelectItem>
                        </MudSelect>
                    </MudItem>
                }
                <MudItem xs=12 sm=6>
                    @* <MudTextField Label="قیمت" @bind-Value="vm.Price" Variant="Variant.Outlined" dir="ltr" Mask="@(new PatternMask("000,000,000,000,000,000"))" /> *@
                    <MudNumericField T="decimal?"
                                     Label="قیمت (ریال)"
                                     @bind-Value="vm.Price"
                                     For="@(() => vm.Price)"
                                     Min="1" MaxLength="18"
                                     Max="999999999999999999"
                                     Format="N0"
                                     Variant="Variant.Outlined"
                                     dir="ltr" HideSpinButtons />
                </MudItem>
                <MudItem xs=12 sm=6>
                    <MudSwitch @bind-Value="vm.Disable" Label="غیر فعال" Color="Color.Secondary" Class="mt-4" />
                </MudItem>
            </MudGrid>

            <MudButton Color="Color.Success" Variant="Variant.Filled" ButtonType="ButtonType.Submit" Class="my-2" Style="width: 92px;">
                ذخیره
            </MudButton>
            <MudButton Severity="Severity.Normal" Variant="Variant.Filled" OnClick="() => MudDialog.Cancel()" Class="ms-5">
                انصراف
            </MudButton>
        </EditForm>
    </DialogContent>
</MudDialog>