<MudDialog DefaultFocus="DefaultFocus.FirstChild">
    <DialogContent>
        <EditForm Model="vm" OnValidSubmit="OnValidSubmit">
            <DataAnnotationsValidator />

            <MudGrid>
                @if (IsAdd == true)
                {
                    <MudItem xs=12 sm=6>
                        <MudSelect T="int?" Label="دسته * " @bind-Value="vm.CategoryId" For="@(() => vm.CategoryId)" Variant="Variant.Outlined">
                            @foreach (var item in categoryDtos!)
                            {
                                <MudSelectItem T="int?" Value="@((int?)item.Id)">@item.Title</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs=12 sm=6>
                        <MudTextField Label="کد تخفیف * " @bind-Value="vm.Code" For="@(() => vm.Code)" Variant="Variant.Outlined" dir="ltr" MaxLength="20" />
                    </MudItem>
                    <MudItem xs=12 sm=6>
                        <MudTextField Label="درصد تخفیف * " @bind-Value="vm.Percent" For="@(() => vm.Percent)" Variant="Variant.Outlined" dir="ltr" MaxLength="3" />
                    </MudItem>
                    <MudItem xs=12 sm=6>
                        <MudNumericField T="decimal?" Label="حداکثر مبلغ تخفیف (ریال) * "
                                         @bind-Value="vm.MaxPrice" For="@(() => vm.MaxPrice)"
                                         Min="1" MaxLength="18"
                                         Max="999999999999999999"
                                         Format="N0"
                                         Variant="Variant.Outlined"
                                         dir="ltr" HideSpinButtons />
                    </MudItem>
                }
                <MudItem xs=12 sm=6>
                    <MudSwitch @bind-Value="vm.Disable" For="@(() => vm.Disable)" Label="غیر فعال" Color="Color.Secondary" />
                </MudItem>
                @if (IsAdd == true)
                {
                    <MudItem xs=12 sm=6>
                        <MudCheckBox @bind-Value="vm.SendSms" For="@(() => vm.SendSms)" Label="پیامک برای مشتری ها ارسال شود" Color="Color.Success" Class="mb-4" Size="Size.Large" />
                    </MudItem>
                }
            </MudGrid>

            <MudButton Color="Color.Success" Variant="Variant.Filled" ButtonType="ButtonType.Submit" Class="my-2" Style="width: 92px;">
                ذخیره
            </MudButton>
            <MudButton Severity="Severity.Normal" Variant="Variant.Filled" OnClick="() => MudDialog.Cancel()" Class="ms-5">
                انصراف
            </MudButton>
        </EditForm>
    </DialogContent>
</MudDialog>